{% import 'macros/icons.html' as icons -%}

<!DOCTYPE html>
<html lang="{{ lang | default(value=config.default_language)}}" itemscope itemtype="https://schema.org/Article">
  {% include 'partials/header.html' %}<body>
    <script>
      const theme = localStorage.getItem("theme") || (window.matchMedia("(prefers-color-scheme: light)").matches ? "light" : "dark");
      document.documentElement.setAttribute("data-theme", theme);
    </script>
    {% include 'partials/nav.html' %}
    <main>{% block content -%} {% endblock content -%}</main>
    {% include 'partials/footer.html' %}
    <script>
      function themeToggle() {
        const currentTheme = document.documentElement.getAttribute("data-theme");
        const newTheme = currentTheme === "dark" ? "light" : "dark";

        document.documentElement.setAttribute("data-theme", newTheme);
        localStorage.setItem("theme", newTheme);
      }
      document.getElementById("theme-toggle").addEventListener("click", themeToggle);
    </script>
  </body>
</html>
